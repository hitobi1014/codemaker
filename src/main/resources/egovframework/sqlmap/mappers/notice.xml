<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="notice">
<<<<<<< HEAD
	
	<select id="noticeTotalCnt" parameterType="String" resultType="int">
		select count(*) from notice 
			<where>
				<choose>
					<when test="searchOption == 1 or searchOption == 2">
						AND NOTICE_HEAD LIKE '%' || #{searchOption} || '%'
					</when>
					<otherwise>
						AND NOTICE_HEAD LIKE '%' || '1' || '%'
					</otherwise>
				</choose>
				<if test="keyWord != '' and keyWord != null">
					AND	(NOTICE_CONT LIKE '%' || #{keyWord} || '%' 
					 OR NOTICE_TITLE LIKE '%' || #{keyWord} || '%')
				</if>
			</where>
=======

	<select id="noticeTotalCnt" parameterType="String"
		resultType="int">
		select count(*) from notice
		where 1=1
		<choose>
			<when
				test="searchOption == 1 or searchOption == 2 or searchOption == 3">
				AND NOTICE_HEAD LIKE '%' || #{searchOption} || '%'
			</when>
		</choose>
		<if test="keyWord != '' and keyWord != null">
			AND (NOTICE_CONT LIKE '%' || #{keyWord} || '%'
			OR NOTICE_TITLE LIKE '%' || #{keyWord} || '%')
		</if>
>>>>>>> VO수정
	</select>


	<select id="selectAllNotice" parameterType="java.util.Map"
		resultType="NoticeVO">

		SELECT * FROM
		(SELECT ROWNUM AS RN,
<<<<<<< HEAD
		       A.*
		  FROM (SELECT *
				FROM NOTICE
				<where>
					<choose>
						<when test="searchOption == 1 or searchOption == 2 or searchOption == 3">
							AND NOTICE_HEAD LIKE '%' || #{searchOption} || '%'
						</when>
					</choose>
					<if test="keyWord != '' and keyWord != null">
						AND	(NOTICE_CONT LIKE '%' || #{keyWord} || '%' 
						 OR NOTICE_TITLE LIKE '%' || #{keyWord} || '%')
					</if>
				</where>
				) A)
				<where>
				 AND RN BETWEEN (#{page} - 1) * #{pageSize} + 1 AND #{page} * #{pageSize}
				</where>
=======
		A.*
		FROM (SELECT *
		FROM NOTICE
		WHERE 1=1
		<choose>
			<when
				test="searchOption == 1 or searchOption == 2 or searchOption == 3">
				AND NOTICE_HEAD LIKE '%' || #{searchOption} || '%'
			</when>
		</choose>
		<if test="keyWord != '' and keyWord != null">
			AND (NOTICE_CONT LIKE '%' || #{keyWord} || '%'
			OR NOTICE_TITLE LIKE '%' || #{keyWord} || '%')
		</if>
		) A)
		WHERE RN BETWEEN (#{page} - 1) * #{pageSize} + 1 AND #{page} * #{pageSize}
>>>>>>> VO수정
	</select>



<<<<<<< HEAD
	<select id="selectNotice" parameterType="String" resultType="NoticeVO">
		select * from notice where notice_id = #{noticeId}
=======
	<select id="selectNotice" parameterType="String"
		resultType="NoticeVO">
		select * from notice where notice_id = #{notice_id}
>>>>>>> VO수정
	</select>

	<insert id="insertNotice" parameterType="NoticeVO">
<<<<<<< HEAD
		insert into notice values (#{noticeId}, #{noticeTitle}, #{noticeCont}, sysdate, 'N', #{noticeHead}, #{adminId})
=======
		insert into notice
		values (#{notice_id}, #{notice_title}, #{notice_cont}, sysdate, 'N',
		#{notice_head}, #{admin_id})
>>>>>>> VO수정
	</insert>

	<update id="updateNotice" parameterType="NoticeVO">
<<<<<<< HEAD
		update notice set notice_title = #{noticeTitle}, notice_cont = #{noticeCont}, notice_head = #{noticeHead} where notice_id = #{noticeId}
=======
		update notice set
		notice_title = #{notice_title}, notice_cont = #{notice_cont},
		notice_head = #{notice_head} where notice_id = #{notice_id}
>>>>>>> VO수정
	</update>

	<delete id="deleteNotice" parameterType="String">
		update notice set
		notice_out = 'Y' where notice_id = #{notice_id}
	</delete>

</mapper>