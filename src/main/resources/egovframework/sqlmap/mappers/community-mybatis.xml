<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.codemaker.user.board.community.dao.PostMapper">
	<select id="getAllPost" parameterType="kr.co.codemaker.user.board.community.vo.PostVO" resultType="kr.co.codemaker.user.board.community.vo.PostVO">
		SELECT
			post_no
			, post_title
			, post_date
			, post_views
			, post_content
			, user_id
		FROM
		    post
	</select>

	<select id="getPost" resultType="kr.co.codemaker.user.board.community.vo.PostVO" parameterType="int">
		SELECT * 
			FROM post
			WHERE post_no = #{postNo}
	</select>

	<insert id="insertPost" parameterType="int">
		INSERT INTO post 
			 VALUES (
					POST_LEJ_SEQ.NEXTVAL
					, #{postTitle}
					, SYSDATE
					, #{postViews}
					, #{postContent}
					, #{userId}
				)
	</insert>
	
	<update id="updatePost" parameterType="kr.co.codemaker.user.board.community.vo.PostVO">
	UPDATE post
			SET
				post_no = #{postNo}
				WHERE
					post_title = #{postTitle}
					AND post_content = #{postContent}
	</update>
	
	<delete id="deletePost" parameterType="int">
		DELETE FROM post
		WHERE
			post_no = #{postNo}
	</delete>
	
</mapper>